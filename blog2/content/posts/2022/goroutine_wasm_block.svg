<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="321px" preserveAspectRatio="none" style="width:461px;height:321px;background:#FFFFFF;" version="1.1" viewBox="0 0 461 321" width="461px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="17" x2="17" y1="36.2969" y2="286.2266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="194.5" x2="194.5" y1="36.2969" y2="286.2266"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="25" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="12" y="24.9951">js</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="25" x="5" y="285.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="12" y="305.2217">js</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="32" x="178.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="185.5" y="24.9951">go</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="32" x="178.5" y="285.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="185.5" y="305.2217">go</text><polygon fill="#181818" points="182.5,63.4297,192.5,67.4297,182.5,71.4297,186.5,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="17.5" x2="188.5" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="24.5" y="62.3638">go.run()</text><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="236.5" y1="96.5625" y2="96.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.5" x2="236.5" y1="96.5625" y2="109.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="195.5" x2="236.5" y1="109.5625" y2="109.5625"/><polygon fill="#181818" points="205.5,105.5625,195.5,109.5625,205.5,113.5625,201.5,109.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="201.5" y="91.4966">wait chan</text><polygon fill="#181818" points="28.5,134.6953,18.5,138.6953,28.5,142.6953,24.5,138.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="22.5" x2="193.5" y1="138.6953" y2="138.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="34.5" y="133.6294">return go's Promise</text><polygon fill="#181818" points="182.5,163.8281,192.5,167.8281,182.5,171.8281,186.5,167.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="17.5" x2="188.5" y1="167.8281" y2="167.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="24.5" y="162.7622">call a go's function</text><polygon fill="#181818" points="28.5,192.9609,18.5,196.9609,28.5,200.9609,24.5,196.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="22.5" x2="193.5" y1="196.9609" y2="196.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="34.5" y="191.895">call a js's async function</text><polygon fill="#181818" points="182.5,222.0938,192.5,226.0938,182.5,230.0938,186.5,226.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="17.5" x2="188.5" y1="226.0938" y2="226.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="24.5" y="221.0278">return Promise</text><line style="stroke:#181818;stroke-width:1.0;" x1="194.5" x2="236.5" y1="255.2266" y2="255.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.5" x2="236.5" y1="255.2266" y2="268.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="195.5" x2="236.5" y1="268.2266" y2="268.2266"/><polygon fill="#181818" points="205.5,264.2266,195.5,268.2266,205.5,272.2266,201.5,268.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="201.5" y="250.1606">wait to call a 'then' callback --- deadlock</text><!--MD5=[e0c4f1a448a585f428c8d9e5c2a4ea6d]
@startuml
js -> go : go.run()
go -> go : wait chan
js <- - go: return go's Promise
js -> go : call a go's function
js <- go: call a js's async function
js - -> go : return Promise
go -> go : wait to call a 'then' callback - - - deadlock
@enduml

PlantUML version 1.2022.8(Sun Sep 25 18:00:33 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>