<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="408px" preserveAspectRatio="none" style="width:673px;height:408px;background:#FFFFFF;" version="1.1" viewBox="0 0 673 408" width="673px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="17" x2="17" y1="36.2969" y2="373.625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="166.5" x2="166.5" y1="36.2969" y2="373.625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="295.5" x2="295.5" y1="36.2969" y2="373.625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="447.5" x2="447.5" y1="36.2969" y2="373.625"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="25" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="12" y="24.9951">js</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="25" x="5" y="372.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="11" x="12" y="392.6201">js</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="120.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="127.5" y="24.9951">go_runtime</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="120.5" y="372.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="127.5" y="392.6201">go_runtime</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="222.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="229.5" y="24.9951">go_main_goroutine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="222.5" y="372.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="229.5" y="392.6201">go_main_goroutine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="378.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="385.5" y="24.9951">go_sub_goroutine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="378.5" y="372.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="385.5" y="392.6201">go_sub_goroutine</text><polygon fill="#181818" points="154.5,63.4297,164.5,67.4297,154.5,71.4297,158.5,67.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="17.5" x2="160.5" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="24.5" y="62.3638">go.run()</text><polygon fill="#008000" points="283.5,92.5625,293.5,96.5625,283.5,100.5625,287.5,96.5625" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166.5" x2="289.5" y1="96.5625" y2="96.5625"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="177.5" y="91.4966">go main()</text><line style="stroke:#FF0000;stroke-width:1.0;" x1="295.5" x2="337.5" y1="125.6953" y2="125.6953"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="337.5" x2="337.5" y1="125.6953" y2="138.6953"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="296.5" x2="337.5" y1="138.6953" y2="138.6953"/><polygon fill="#FF0000" points="306.5,134.6953,296.5,138.6953,306.5,142.6953,302.5,138.6953" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="302.5" y="120.6294">wait chan</text><polygon fill="#181818" points="28.5,163.8281,18.5,167.8281,28.5,171.8281,24.5,167.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="22.5" x2="165.5" y1="167.8281" y2="167.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="34.5" y="162.7622">return go's Promise</text><polygon fill="#181818" points="154.5,192.9609,164.5,196.9609,154.5,200.9609,158.5,196.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="17.5" x2="160.5" y1="196.9609" y2="196.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="24.5" y="191.895">call a go's function</text><polygon fill="#008000" points="436,222.0938,446,226.0938,436,230.0938,440,226.0938" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166.5" x2="442" y1="226.0938" y2="226.0938"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="173.5" y="221.0278">go sub()</text><polygon fill="#181818" points="28.5,251.2266,18.5,255.2266,28.5,259.2266,24.5,255.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="22.5" x2="165.5" y1="255.2266" y2="255.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="34.5" y="250.1606">return</text><polygon fill="#181818" points="28.5,280.3594,18.5,284.3594,28.5,288.3594,24.5,284.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="22.5" x2="447" y1="284.3594" y2="284.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="34.5" y="279.2935">call a js's async function</text><polygon fill="#181818" points="436,309.4922,446,313.4922,436,317.4922,440,313.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="17.5" x2="442" y1="313.4922" y2="313.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="24.5" y="308.4263">return Promise</text><line style="stroke:#FF0000;stroke-width:1.0;" x1="448" x2="490" y1="342.625" y2="342.625"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="490" x2="490" y1="342.625" y2="355.625"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="449" x2="490" y1="355.625" y2="355.625"/><polygon fill="#FF0000" points="459,351.625,449,355.625,459,359.625,455,355.625" style="stroke:#FF0000;stroke-width:1.0;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="455" y="337.5591">wait to call a 'then' callback --- ok</text><!--MD5=[5ebc74599a9ffee1d40fc6d8f6ba5b50]
@startuml
js -> go_runtime: go.run()
go_runtime -[#green]-> go_main_goroutine: <font color=green> go main()
go_main_goroutine-[#red]> go_main_goroutine: <font color=red>wait chan
js <- - go_runtime  : return go's Promise
js -> go_runtime: call a go's function
go_runtime -[#green]-> go_sub_goroutine: <font color=green>go sub()
js <- - go_runtime: return
js <- go_sub_goroutine  : call a js's async function
js - -> go_sub_goroutine: return Promise
go_sub_goroutine-[#red]> go_sub_goroutine: <font color=red>wait to call a 'then' callback - - - ok
@enduml

PlantUML version 1.2022.8(Sun Sep 25 18:00:33 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>