<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://0.0.0.0:4000/blog/site/feed.xml" rel="self" type="application/atom+xml" /><link href="http://0.0.0.0:4000/blog/site/" rel="alternate" type="text/html" /><updated>2019-01-17T22:25:09+09:00</updated><id>http://0.0.0.0:4000/blog/site/feed.xml</id><title type="html">hoge blog</title><subtitle>Qiita に投稿する程でないネタを上げるネタサイト。 ポエムや、メモ、自分用の備忘録、Web から集めただけの情報などなど。</subtitle><entry><title type="html">org-mode で blog</title><link href="http://0.0.0.0:4000/blog/site/2019/01/17/setup-jekyll.html" rel="alternate" type="text/html" title="org-mode で blog" /><published>2019-01-17T00:00:00+09:00</published><updated>2019-01-17T00:00:00+09:00</updated><id>http://0.0.0.0:4000/blog/site/2019/01/17/setup-jekyll</id><content type="html" xml:base="http://0.0.0.0:4000/blog/site/2019/01/17/setup-jekyll.html">&lt;p&gt;blog を始めるにあたって、
  emacs から出来るだけ簡単に記事を更新できる環境にするために、
  次の URL の情報をもとにいくつか調査。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://orgmode.org/worg/org-blog-wiki.html&quot;&gt;https://orgmode.org/worg/org-blog-wiki.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;とりあえず org-mode + jekyll で構築してみた。&lt;/p&gt;
&lt;p&gt;以下は、org-mode + jekyll で環境構築から記事を投稿するまでの流れをまとめたメモ。&lt;/p&gt;
&lt;h1&gt;使用するソフト&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;ruby&lt;/li&gt;
  &lt;li&gt;gem
    &lt;ul&gt;
      &lt;li&gt;bundler&lt;/li&gt;
      &lt;li&gt;jekyll&lt;/li&gt;
      &lt;li&gt;jekyll-org&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;top
  jekyll は、 markdown でサイトを構築可能なツール。
  markdown は書き慣れていないので org-mode で記事を書けるように
  jekyll plugin の jekyll-org を使用する。&lt;/p&gt;
&lt;h2&gt;setup&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;install ruby&lt;/li&gt;
  &lt;li&gt;install ruby-dev&lt;/li&gt;
  &lt;li&gt;install gem&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ gem install bundler jekyll jekyll-org
&lt;/pre&gt;
&lt;h1&gt;jekyll setup&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;blog のプロジェクトディレクトリ作成&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ cd blog_top
$ jekyll new blog
&lt;/pre&gt;
&lt;p&gt;&lt;b&gt;初回は、ここで必要な gem がインストールされる。&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;blog ディレクトリが生成され、blog ディレクトリ以下に幾つかのファイルが作成される。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;_config.yml を編集
    &lt;ul&gt;
      &lt;li&gt;次の項目を編集
        &lt;ul&gt;
          &lt;li&gt;title:&lt;/li&gt;
          &lt;li&gt;email:&lt;/li&gt;
          &lt;li&gt;description:&lt;/li&gt;
          &lt;li&gt;twitter_username:&lt;/li&gt;
          &lt;li&gt;github_username:&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;plugins の項目に jekyll-org を追加&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;src&quot; lang=&quot;yml&quot;&gt;
plugins:
  - jekyll-org
&lt;/pre&gt;
&lt;h1&gt;記事作成&lt;/h1&gt;
&lt;p&gt;_posts/ 以下に、次の名前のファイルを作成する&lt;/p&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
YYYY-MM-DD-title.org
&lt;/pre&gt;
&lt;p&gt;例えば 2019-01-01-hoge.org とする。&lt;/p&gt;
&lt;p&gt;title は、記事のタイトルで無くてもよい。&lt;/p&gt;
&lt;p&gt;_posts/ の下にサブディレクトリを掘って、その中にファイルを作成しても良い。&lt;/p&gt;
&lt;h2&gt;記事のフォーマット&lt;/h2&gt;
&lt;p&gt;次のメタ情報を入れれば、後は普通の org-mode 通りに記載可能。&lt;/p&gt;
&lt;pre class=&quot;src&quot; lang=&quot;org&quot;&gt;
#+LAYOUT: post
#+TITLE: org-mode で blog
#+TAGS: org-mode jekyll
&lt;/pre&gt;
&lt;p&gt;&lt;b&gt;+TAGS&lt;/b&gt; はオプション。&lt;/p&gt;
&lt;h3&gt;ワンポイントネタ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;URL を書くだけだとリンクにならない。
    &lt;ul&gt;
      &lt;li&gt;リンクにする場合は URL を &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; で囲む。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;変換&lt;/h1&gt;
&lt;p&gt;書いた記事は jekyll を使って html に変換する。&lt;/p&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ cd blog
$ jekyll b
&lt;/pre&gt;
&lt;h1&gt;確認&lt;/h1&gt;
&lt;p&gt;jekyll は httpd サーバ機能を持つ。&lt;/p&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ cd blog
$ jekyll s
&lt;/pre&gt;
&lt;p&gt;この状態でブラウザで http://localhost:4000 にアクセスすれば、
  変換後の内容を確認できる。&lt;/p&gt;
&lt;p&gt;なお、記事を修正すれば動的に変換されるので、
  記事を修正後にブラウザをリロードすれば、修正後の内容を確認できる。&lt;/p&gt;
&lt;p&gt;httpd サーバを終了する場合は、 Ctrl-C。&lt;/p&gt;
&lt;h2&gt;ネットワークアクセス&lt;/h2&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ jekyll s 
&lt;/pre&gt;
&lt;p&gt;このコマンドで起動した httpd サーバは、 localhost でしかアクセスできない。&lt;/p&gt;
&lt;p&gt;つまり PC 外部からアクセス出来ない。&lt;/p&gt;
&lt;p&gt;セキュリティという意味では安全であるが、不便だったりする。&lt;/p&gt;
&lt;p&gt;PC 外部からアクセスしたい場合は、次のコマンドで httpd サーバを起動する。&lt;/p&gt;
&lt;pre class=&quot;src&quot; lang=&quot;txt&quot;&gt;
$ jekyll s --host 0.0.0.0
&lt;/pre&gt;</content><author><name></name></author><category term="org-mode jekyll" /></entry></feed>