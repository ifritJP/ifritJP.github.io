<!DOCTYPE html>
<html lang="ja-jp">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>80.2 Package when transcompiling to Go language - tech</title>
<meta name="generator" content="Hugo 0.100.1" />
<link href="https://ifritjp.github.io/documentsindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://ifritjp.github.io/documents/en/lunescript/go_package/">
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/custom.css">
<script src="https://ifritjp.github.io/documents/js/bundle.js"></script>
<script src="https://ifritjp.github.io/documents/js/lnsSrcRun.js"></script>
<script src="https://ifritjp.github.io/documents/js/highlight_lns.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/highlight_lns.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script><style>
:root {}
</style>
<meta property="og:title" content="80.2 Package when transcompiling to Go language" />
<meta property="og:description" content="Modules packaged with go are available from LuneScript.
go package management overview go manages packages with go.mod.
Packages managed by this go.mod are cached in the local directory specified by the environment variable GOPATH.
LuneScript can take advantage of this cached module.
To use the package on github with go, write as follows.
import &#34;github.com/ifritJP/lnshttpd&#34; LuneScript can access the go modules in the same way.
import To import the ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ifritjp.github.io/documents/en/lunescript/go_package/" /><meta property="article:section" content="LuneScript" />

<meta property="og:site_name" content="tech" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="80.2 Package when transcompiling to Go language"/>
<meta name="twitter:description" content="Modules packaged with go are available from LuneScript.
go package management overview go manages packages with go.mod.
Packages managed by this go.mod are cached in the local directory specified by the environment variable GOPATH.
LuneScript can take advantage of this cached module.
To use the package on github with go, write as follows.
import &#34;github.com/ifritJP/lnshttpd&#34; LuneScript can access the go modules in the same way.
import To import the ."/>
<meta itemprop="name" content="80.2 Package when transcompiling to Go language">
<meta itemprop="description" content="Modules packaged with go are available from LuneScript.
go package management overview go manages packages with go.mod.
Packages managed by this go.mod are cached in the local directory specified by the environment variable GOPATH.
LuneScript can take advantage of this cached module.
To use the package on github with go, write as follows.
import &#34;github.com/ifritJP/lnshttpd&#34; LuneScript can access the go modules in the same way.
import To import the .">

<meta itemprop="wordCount" content="391">
<meta itemprop="keywords" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4708B8S6ES"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4708B8S6ES');
</script>
</head>
<body><div class="container"><header>
<h1>tech</h1>


[<a href="https://ifritjp.github.io/documents/en/">English</a>]

[<a href="https://ifritjp.github.io/documents/">Japanese</a>]

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/documents/">Home</a></li>
<li><a href="https://ifritjp.github.io/blog2/public/">blog</a></li>
<li><a href="https://ifritjp.github.io/LuneScript-webFront/lnsc_web_frontend/for_fengari/">LuneScript on Web</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>80.2 Package when transcompiling to Go language</h1>

<p>
Modules packaged with go are available from LuneScript.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
go package management overview
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
go manages packages with go.mod.</p>
<p>
Packages managed by this go.mod are cached in the local directory specified by the environment variable GOPATH.</p>
<p>
LuneScript can take advantage of this cached module.</p>
<p>
To use the package on github with go, write as follows.</p>
<div class="src src-go">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/ifritJP/lnshttpd&#34;</span></span></span></code></pre></div>
</div>
<p>
LuneScript can access the go modules in the same way.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
import
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>
To import the .lns file in the go package with LuneScript, write:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
import go/github:com.ifritJP.lnshttpd.lnsservlet;</code></pre>
</div>
<p>
This is an example of importing lnsservlet.lns from <a href="https://github.com/ifritJP/lnshttpd.">https://github.com/ifritJP/lnshttpd.</a></p>
<p>
Now let&#39;s look at <code class="verbatim">go/github:com.ifritJP.lnshttpd.lnsservlet</code>.</p>
<p>
As you can probably imagine by comparing <code class="verbatim">https://github.com/ifritJP/lnshttpd</code> and <code class="verbatim">go/github:com.ifritJP.lnshttpd.lnsservlet</code>, there are additional rules when using the go package:</p>
<ul>
<li>Prepend <code class="verbatim">go/</code></li>
<li>If there is a., Like github.com, specify: instead of.</li>
</ul>
<p>LuneScript searches for modules in the go package path instead of the normal search path when a module of the above format is specified.</p>
<p>
Specifically, it searches the files in the following order:</p>
<ul>
<li>vendor/github.com/ifritJP/lnshttpd/lnsservlet.lns </li>
<li>${GOPATH}/pkg/mod/github.com/ifrit!j!p/lnshttpd@XXXXXXXXXXXXXXXXX/lnsservlet.lns</li>
</ul>
<p>Here, the <code class="verbatim">XXXXXXXXXXXXXXXXX</code> part of <code class="verbatim">@XXXXXXXXXXXXXXXXX/lnsservlet.lns</code> is obtained from the TAG information of the module described in go.mod. In other words, you need to run go mod tidy in advance.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-2">
<h2 id="headline-3">
module
</h2>
<div id="outline-text-headline-3" class="outline-text-2">
<p>
To use the go module from LuneScript, you need a module declaration.</p>
<p>
The module declaration is also used when using the Lua module from LuneScript, but when using the go module, there are additional rules:</p>
<ul>
<li>Add to the module declaration that you are using the go module</li>
</ul>
<p>The following is an example declaration when using servlet.go on github.com.ifritJP.lnshttpd.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
module servlet require &#34;go/github:com.ifritJP.lnshttpd.servlet&#34; of &#34;&#34; {
   pub static fn Start( listenPort:int,
                        handlerList: &amp;List&lt;&amp;lnsservlet.HandlerInfo&gt;,
                        hostingList:&amp;List&lt;&amp;lnsservlet.HostingInfo&gt; );
}</code></pre>
</div>
<p>
Here, <code class="verbatim">of &#34;&#34;</code> of <code class="verbatim">module servlet require &#34;go/github:com.ifritJP.lnshttpd.servlet&#34; of &#34;&#34;</code> declares the type of module to be used.</p>
<p>
The character strings that can be specified are as follows.</p>
<table>
<thead>
<tr>
<th>String</th>
<th>Module language</th>
<th class="align-right"></th>
</tr>
</thead>
<tbody>
<tr>
<td>&#34;&#34;</td>
<td>Same as transcompile destination language</td>
<td class="align-right"></td>
</tr>
<tr>
<td>&#34;Lua&#34;</td>
<td>lua</td>
<td class="align-right"></td>
</tr>
<tr>
<td>&#34;Go&#34;</td>
<td>go</td>
<td class="align-right"></td>
</tr>
</tbody>
</table>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
Available languages
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>
There are restrictions on the combination of languages that can be transcompiled and the languages that can be used with module.</p>
<table>
<thead>
<tr>
<th>go module</th>
<th>lua module</th>
<th></th>
<th class="align-right"></th>
</tr>
</thead>
<tbody>
<tr>
<td>Transcompile to go</td>
<td>Possible</td>
<td>Possible</td>
<td class="align-right"></td>
</tr>
<tr>
<td>Transcompile to lua</td>
<td>Impossible</td>
<td>Possible</td>
<td class="align-right"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Type compatibility
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>
The go module is available from LuneScript in the module declaration.</p>
<p>
However, type compatibility is limited.</p>
<p>
The following types are paired with LuneScript and go.</p>
<table>
<thead>
<tr>
<th>LuneScript type</th>
<th>type of go</th>
<th class="align-right"></th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>int</td>
<td class="align-right"></td>
</tr>
<tr>
<td>real</td>
<td>float64</td>
<td class="align-right"></td>
</tr>
<tr>
<td>bool</td>
<td>bool</td>
<td class="align-right"></td>
</tr>
<tr>
<td>str</td>
<td>string</td>
<td class="align-right"></td>
</tr>
<tr>
<td>nilable</td>
<td>interface{}</td>
<td class="align-right"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev-2" href="https://ifritjp.github.io/documents/en/lunescript/go/" title="80. Transcompile to Go language"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 80. Transcompile to Go language</a>
<a class="nav nav-next-2" href="https://ifritjp.github.io/documents/en/lunescript/lua_runtime/" title="80.3 Lua runtime when transcompiled to Go">Next - 80.3 Lua runtime when transcompiled to Go <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://ifritjp.github.io/documents">Home</a></li>

<li class="parent has-sub-menu"><a href="https://ifritjp.github.io/documents/en/lunescript/">Making Lua easier with the transcompiler LuneScript !!<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial2.setup/">01. Introduction</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial3.hello/">02. Hello world</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/crosscompile/">03. Cross-compiling between Lua versions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/value/">04. Value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/set/">04.2. Set</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/enum/">05. enum edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/match/">06. match edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/variable/">07. Variables</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/branch/">08. General branch syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/loop/">09. Repeated syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/func/">10. Functions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/multipleretval/">10.2. Multi-valued return value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/defaultarg/">10.3. Omission of arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/arg/">10.4. Variadic argument, return value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/closure/">10.5. Closure</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilable/">11. nilable edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class1/">12. Class Basics</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class2accessor/">13. accessor edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classinherit/">14. Class inheritance</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classadvertise/">15. Class advertise</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classoverride/">16. Class override</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/interface/">17. Interface</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classmapping/">18. mapping</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/generics/">19. generics edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilcond/">20. nil conditional operator edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/import/">21. import / provide</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/require/">22. require / module edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/glue/">22.1. Semi-automatic generation of glue code</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua/">22.2. Cooperation with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/make/">23. Build</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/macro/">24. Macro edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/cast/">25. Cast edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/subfile/">26. subfile edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lazyloading/">27. Delayed loading</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/shebang_main/">28. shebang and command line arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/dir/">29. Recommended directory structure for projects that use LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go/">80. Transcompile to Go language</a></li>
<li class="active"><a href="https://ifritjp.github.io/documents/en/lunescript/go_package/">80.2 Package when transcompiling to Go language</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua_runtime/">80.3 Lua runtime when transcompiled to Go</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async/">81. Safe asynchronous processing</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async_old/">81.1 Asynchronous processing O (past information)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/luago/">82. Collaboration with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/completion/">A. Let&#39;s have more fun in an exciting development environment</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/onweb/">A. LuneScript running on a web browser</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lnstags/">A. Tag jump by lnstags (source code tag system)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/recommend/">A. Transcompiler development recommendations</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/reason/">A. Why Lua&#39;s transcompiler LuneScript was developed</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/box/">Box edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_study/">Transcompile to Z. Go language (under consideration)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/test/">X. Importance of self-hosting and test design in quality control of language development</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
