<!DOCTYPE html>
<html lang="ja-jp">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>24. Macro edition - tech</title>
<meta name="generator" content="Hugo 0.109.0">
<link href="https://ifritjp.github.io/documentsindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://ifritjp.github.io/documents/en/lunescript/macro/">
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/custom.css">
<script src="https://ifritjp.github.io/documents/js/bundle.js"></script>
<script src="https://ifritjp.github.io/documents/js/lnsSrcRun.js"></script>
<script src="https://ifritjp.github.io/documents/js/highlight_lns.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/highlight_lns.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script><style>
:root {}
</style>
<meta property="og:title" content="24. Macro edition" />
<meta property="og:description" content="This time, I will explain about LuneScript macros.
macro LuneScript supports macros.
Perhaps it makes more sense these days to say metaprogramming rather than macros.
To explain &#34;what is a macro&#34;, it is easier to explain the difference from a function.
A function is a collection of certain processes. On the other hand, macros can define multiple function definitions themselves together. Of course, you can define not only function definitions but almost all processes that can be defined as macros." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ifritjp.github.io/documents/en/lunescript/macro/" /><meta property="article:section" content="LuneScript" />

<meta property="og:site_name" content="tech" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="24. Macro edition"/>
<meta name="twitter:description" content="This time, I will explain about LuneScript macros.
macro LuneScript supports macros.
Perhaps it makes more sense these days to say metaprogramming rather than macros.
To explain &#34;what is a macro&#34;, it is easier to explain the difference from a function.
A function is a collection of certain processes. On the other hand, macros can define multiple function definitions themselves together. Of course, you can define not only function definitions but almost all processes that can be defined as macros."/>
<meta itemprop="name" content="24. Macro edition">
<meta itemprop="description" content="This time, I will explain about LuneScript macros.
macro LuneScript supports macros.
Perhaps it makes more sense these days to say metaprogramming rather than macros.
To explain &#34;what is a macro&#34;, it is easier to explain the difference from a function.
A function is a collection of certain processes. On the other hand, macros can define multiple function definitions themselves together. Of course, you can define not only function definitions but almost all processes that can be defined as macros.">

<meta itemprop="wordCount" content="2161">
<meta itemprop="keywords" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4708B8S6ES"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4708B8S6ES');
</script>
</head>
<body><div class="container"><header>
<h1>tech</h1>


[<a href="https://ifritjp.github.io/documents/en/">English</a>]

[<a href="https://ifritjp.github.io/documents/">Japanese</a>]

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/documents/">Home</a></li>
<li><a href="https://ifritjp.github.io/blog2/public/">blog</a></li>
<li><a href="https://ifritjp.github.io/LuneScript-webFront/lnsc_web_frontend/for_fengari/">LuneScript on Web</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>24. Macro edition</h1>

<p>
This time, I will explain about LuneScript macros.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
macro
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
LuneScript supports macros.</p>
<p>
<strong>Perhaps it makes more sense these days to say metaprogramming rather than macros.</strong></p>
<p>
To explain &#34;what is a macro&#34;, it is easier to explain the difference from a function.</p>
<p>
<strong>A function is a collection of certain processes. On the other hand, macros can define multiple function definitions themselves together. Of course, you can define not only function definitions but almost all processes that can be defined as macros.</strong></p>
<p>
I think Lisp is the most major programming language for macros, but LuneScript macros aren&#39;t as powerful as Lisp. However, it is not as restrictive as C macros.</p>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Simple macro example
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
The following is an example of a simple macro.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
macro _Hello() {
   print( &#34;hello world&#34; );
}
_Hello(); // hello world</code></pre>
</div>
<p>
This is the macro _Hello that displays hello world.</p>
<p>
The macro definition uses the macro keyword.</p>
<p>
This example is a macro that is exactly the same as using a function definition, and there is no point in defining it as a macro.</p>
<p>
However, it is a good example to convey that &#34;macros can be defined in the same way as function definitions&#34;.</p>
<p>
In programming languages equipped with macros, macro definitions often require special processing, unlike general function definitions.</p>
<p>
This raises the hurdle of mind that &#34;macro seems to be difficult&#34;.</p>
<p>
However, with LuneScript, you can define macros in the same way as general function definitions, as in the hello world sample above.</p>
<p>
However, you cannot define a meaningful macro by writing a macro like the above example.</p>
<p>
The following describes how to define meaningful macros.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Macro example
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
Here&#39;s an example of a slightly more practical macro:</p>
<p>
This macro has the following specifications.</p>
<ul>
<li>Macro _Test that defines a function that returns a value of int</li>
<li>The int value returned by the function is given as a macro argument.</li>
<li>The name of the function to be defined is determined by the value of int</li>
<li>Specifically, the function name that returns 1 is func1.</li>
</ul>
<p>Below is the specific macro code.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
macro _Test( val:int ) {
   {
      let name = &#34;func%d&#34;(val);
   }
   fn ,,,name(): int {
      return ,,val;
   }
}

_Test( 1 );
_Test( 10 );

print( func1(), func10() ); // 1  10</code></pre>
</div>
<p>
Expanding a macro is almost the same as a function call.</p>
<p>
In this case, _Test (1) and _Test (10) are macro expansions. _Test (1), _Test (10) expands to:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
// Test( 1 )
fn func1():int {
   return 1;
}
// Test( 10 )
fn func10():int {
   return 10;
}</code></pre>
</div>
<p>
This defines the functions func1 () and func10 (), so <code>print( func1(), func10() )</code> outputs 1 10.</p>
<p>
This macro is described below.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
How to write a macro
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>
The syntax for defining a macro is:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
macro name( arg ) {
   {
      macro-statement
   }
   expand-statement
}</code></pre>
</div>
<p>
Start with the keyword macro, followed by the macro name name, the argument arg, and so on. The macro name name must start with _. Conversely, non-macro symbol names must start with something other than _.</p>
<p>
Macro arguments support the following types:</p>
<ul>
<li>int</li>
<li>real</li>
<li>str</li>
<li>bool  </li>
<li>stat</li>
<li>List, Map, Set above</li>
<li>sym</li>
<li>__exp</li>
<li>__block</li>
</ul>
<p>sym, stat, __exp, __block will be described later.</p>
<p>
This is followed by the macro-statement block and the expand-statement.</p>
<p>
To understand how to define a macro, it&#39;s easier to understand expand-statement first, so let&#39;s talk about expand-statement before we talk about the macro-statement block.</p>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
argument
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<p>
The following can be used as the argument types dedicated to macros.</p>
<ul>
<li>sym</li>
<li>stat  </li>
<li>__exp</li>
<li>__block</li>
</ul>
<div id="outline-container-headline-6" class="outline-5">
<h5 id="headline-6">
sym
</h5>
<div id="outline-text-headline-6" class="outline-text-5">
<p>
sym is a type that can store symbols.</p>
<p>
Symbols can be used as functions, variables, members, classes, all symbols.</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-5">
<h5 id="headline-7">
stat
</h5>
<div id="outline-text-headline-7" class="outline-text-5">
<p>
stat is a type that can store statements.</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-5">
<h5 id="headline-8">
__exp
</h5>
<div id="outline-text-headline-8" class="outline-text-5">
<p>
__exp is a type that can store all expressions.</p>
<p>
You can specify any expression, for example <code class="verbatim">1 + 1</code> or <code class="verbatim">func()</code>. However, the expression must be error-free and evaluable when you call the macro.</p>
</div>
</div>
<div id="outline-container-headline-9" class="outline-5">
<h5 id="headline-9">
__block
</h5>
<div id="outline-text-headline-9" class="outline-text-5">
<p>
__block is a type that can store the block statement <code class="verbatim">{}</code>.</p>
<p>
Like __exp, it must be a block that can be evaluated without error when calling the macro.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-10" class="outline-4">
<h4 id="headline-10">
expand-statement
</h4>
<div id="outline-text-headline-10" class="outline-text-4">
<p>
expand-statement writes the code after expanding the macro.</p>
<p>
In the _Test macro example, the following part is the expand-statement.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
   fn ,,,name(): int {
      return ,,val;
   }</code></pre>
</div>
<p>
This expands the function definition.</p>
<p>
Macro-specific operators are available in this expand-statement. ,, is the operator.</p>
<p>
The available operators are:</p>
<ul>
<li>,,,,</li>
<li>,,,</li>
<li>,,</li>
</ul>
<p><strong>,,,, are operators that convert the symbol obtained by evaluating the variable that follows it into a string.</strong></p>
<p>
<strong>,,, are operators that convert the string obtained by evaluating the variable that follows it into a symbol.</strong></p>
<p>
<strong>,, are operators that expand the variables that follow.</strong></p>
<p>
That is, in the above example, ,,, name converts the string in the name variable to a symbol, and ,, val expands the val variable, and the <code>_Test( 1 )</code> macro expands to:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
fn func1():int {
   return 1;
}</code></pre>
</div>
<p>
You can write any code in expand-statement, provided that the following restrictions are met:</p>
<p>
<strong>expand-statement must be a statement.</strong></p>
<p>
In other words, expand-statement can be written in any code as long as it is not a statement, such as an expression or part of an incomplete token.</p>
<p>
You can also write multiple statements in expand-statement.</p>
</div>
</div>
<div id="outline-container-headline-11" class="outline-4">
<h4 id="headline-11">
macro-statement
</h4>
<div id="outline-text-headline-11" class="outline-text-4">
<p>
In the macro-statement block, define the variables used in expand-statement. Variables used in expand-statement must be declared in the top-level scope of the macro-statement block.</p>
<p>
In the _Test macro example, next is macro-statement.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
   {
      let name = &#34;func%d&#34;(val);
   }</code></pre>
</div>
<p>
Here we define the variable name. &#34;Func% d&#34; (val) is set as the initial value of name.</p>
<p>
Within the macro-statement, you can take advantage of all the features of LuneScript. Specifically, you can also define functions in macro-statement.</p>
<p>
For example, the _Test macro can also be written as:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
macro _Test( val:int ) {
   {
      fn funcname(): str {
         return &#34;func%d&#34;(val);
      }
      let name = funcname();
   }
   fn ,,,name(): int {
      return ,,val;
   }
}</code></pre>
</div>
<p>
In this example, the macro-statement declares the <code class="verbatim">funcname()</code> function and assigns the result to the name variable.</p>
<p>
Note that the only functions that can be used in macro-statement are the standard LuneScript functions. Even a function defined in the same source cannot be used from macro-statement if the function is defined outside the macro.</p>
<p>
macro-statement can use macro-only operators like expand-statement.</p>
<p>
Specifically, the following operators are available:</p>
<ul>
<li>,,,,</li>
<li>,,,</li>
<li>,,</li>
<li><code>`{}</code></li>
<li>~~  </li>
</ul>
<p><strong>&#34;,,,,&#34; &#34;,,,&#34; &#34;,,&#34; is almost the same as expand-statement. The difference from expand-statement is that expand-statement processes the variable that immediately follows it, while macro-statement processes the expression that immediately follows it.</strong></p>
<p>
<code>`{}</code> can use the statement written in <code>`{}</code> as the value as it is.</p>
<p>
For example, the above _Test macro can also be written using <code>`{}</code> as follows:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
macro _Test( val:int ) {
   {
      let defstat = `{
         fn ,,,&#34;func%d&#34;(val)~~():int {
            return ,,val;
         }
      };
   }
   ,,defstat;
}

_Test( 1 );
_Test( 10 );

print( func1(), func10() ); // 1  10</code></pre>
</div>
<p>
Here, <code>`{}</code> is used to store the function definition itself in the variable defstat, and defstat is expanded by expand-statement.</p>
<p>
The initialization part of this defstat is extracted as follows.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
      let defstat = `{
         fn ,,,&#34;func%d&#34;(val)~~():int {
            return ,,val;
         }
      };</code></pre>
</div>
<p>
<strong>Here you can see that we are using ~~.</strong></p>
<p>
<strong><code>~ specifies the expression delimiter for operators such as ,,,. In the above, ~</code> is used after &#34;func% d&#34; (val). This indicates that the expression that applies the ,,, operator is up to &#34;func% d&#34; (val), after which () is part of the macro-expanding statement.</strong></p>
<p>
If you do not specify ~~, the string generated by &#34;func% d&#34; (val) will have () added, resulting in a syntax error.</p>
<p>
The following is an example of a list of <code>`{}</code>.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
macro _Test( val:int ) {
   {
      let mut statList:List&lt;stat&gt; = [];
      for count = 1, val {
         statList.insert(
            `{          
               fn ,,,&#34;func%d&#34;(count)~~():int {
                  return ,,count;
               }
            } );
      }
   }
   ,,statList;
}

_Test( 5 );

print( func1(), func2(), func3(), func4(), func5() ); // 1 2 3 4 5</code></pre>
</div>
<p>
In this example, multiple function definitions (func1 to func5) are created by storing multiple function definitions in the list statList of <code>`{}</code> and expanding them.</p>
<p>
The macro-statement block is not required. If you omit the macro-statement block, omit each {} as follows.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
macro name( arg ) {
   expand-statement
}</code></pre>
</div>
</div>
</div>
<div id="outline-container-headline-12" class="outline-4">
<h4 id="headline-12">
Functions available in macro-statement
</h4>
<div id="outline-text-headline-12" class="outline-text-4">
<p>
The following functions are available in macro-statement:</p>
<ul>
<li>fn _lnsLoad( name:str, code:str ): stem;</li>
</ul>
<p>This function loads the LuneScript code specified by code and returns its module.</p>
</div>
</div>
<div id="outline-container-headline-13" class="outline-4">
<h4 id="headline-13">
Macro expansion
</h4>
<div id="outline-text-headline-13" class="outline-text-4">
<p>
The method of expanding the macro is the same as the function call.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-14" class="outline-3">
<h3 id="headline-14">
Public macro
</h3>
<div id="outline-text-headline-14" class="outline-text-3">
<p>
Macros can be exposed to external modules.</p>
<p>
You can make the macro available to the import destination by declaring pub as follows:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
pub macro _Hello() {
   print( &#34;hello world&#34; );
}</code></pre>
</div>
</div>
</div>
<div id="outline-container-headline-15" class="outline-3">
<h3 id="headline-15">
A little practical macro example
</h3>
<div id="outline-text-headline-15" class="outline-text-3">
<p>
The following is an example of a slightly more practical macro.</p>
<p>
In order to handle JSON used in REST API parameters and responses provided by Google etc. in LuneScript, it is convenient to classify it for each REST API JSON format. At such times, manually defining classes that handle multiple types of JSON-formatted data is inefficient and a source of bugs.</p>
<p>
So we&#39;ll load the sample JSON format and create a macro that defines a class that can store that JSON format.</p>
<p>
In this example, we read the following JSON file and</p>
<div class="src src-js">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;val1&#34;</span><span class="o">:</span> <span class="s2">&#34;abc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;val2&#34;</span><span class="o">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
<p>
It is a macro that defines the following class to handle the above JSON.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
class Hoge {
  pri let val1:str {pub};
  pri let val2:int {pub};
}</code></pre>
</div>
<p>
The following is a concrete example of a macro.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: skip
macro _MkClass( name:str, path:str ) {
   {
      let mut memStatList:List&lt;stat&gt; = [];
      if! let mut fileObj = io.open( path ) {
         if! let txt = fileObj.read( &#34;*a&#34; ) {
            let defMap = &#34;pub let val = %s;&#34; (txt);
            let mod = _lnsLoad( &#34;json&#34;, defMap );
            if! let jsonval = mod.val {
               fn getType( val:stem ): str {
                  switch type( val ) {
                     case &#34;number&#34; {
                        return &#34;int&#34;;
                     }
                     case &#34;string&#34; {
                        return &#34;str&#34;;
                     }
                  }
                  return &#34;stem&#34;;
               }
               forsort val, key in jsonval@@Map&lt;str,stem&gt; {
                  memStatList.insert( `{
                     pri let ,,,key : ,,,getType( val )~~ {pub};
                  } );
               }
            }
         }
      }
   }
   class ,,,name {
      ,,memStatList;
   }
}
_MkClass( &#34;Hoge&#34;, &#34;hoge.js&#34; );

let hoge = new Hoge( &#34;ABC&#34;, 100 );
print( hoge.$val1, hoge.$val2 );</code></pre>
</div>
<p>
This macro reads JSON from a file and declares a class to store that JSON structure.</p>
<p>
The class name is specified by the first argument of the macro.</p>
<p>
This macro does the following:</p>
<ul>
<li>Open the specified file and read the JSON string defined in that file.</li>
<li>From the JSON string txt, generate the LuneScript code with &#34;pub let val =% s;&#34; (txt) ;.</li>
<li>Use <code class="verbatim">_lnsLoad()</code> to load the generated LuneScript code</li>
<li>Extract the json val from the loaded module and list the JSON elements with forsort</li>
<li>Generate <code>`{}</code> that declares the members that hold the enumerated elements and add it to memStatList</li>
<li>Declare the class with name and memStatList.</li>
</ul>
<p>In this sample, the members are treated as int and str type data for ease of processing. Lists etc. are not supported.</p>
</div>
</div>
<div id="outline-container-headline-16" class="outline-3">
<h3 id="headline-16">
Common Map between macros
</h3>
<div id="outline-text-headline-16" class="outline-text-3">
<p>
Macros are processes that are executed at compile time. Also, macro execution is independent of each other. When executing two macros A and B, it is not possible to change the control of macro B depending on the execution result of macro A.</p>
<p>
However, this can be inconvenient. Therefore, sharing data within macros is a common map between macros.</p>
</div>
</div>
<div id="outline-container-headline-17" class="outline-3">
<h3 id="headline-17">
This is an experimental function.*
</h3>
<div id="outline-text-headline-17" class="outline-text-3">
<p>
You can use the special variable <code class="verbatim">__var</code> from within the macro-statement of the macro.</p>
<p>
The special variable __var has the following restrictions:</p>
<ul>
<li>Public macros cannot use __var</li>
<li>Macros that access __var must be used from the same namespace that defines them.</li>
<li>If you access __var from a different namespace, the contents of that __var are undefined.</li>
</ul>
<p>The types of this variable are:</p>
<pre class="example">
let mut __var:Map&lt;str,stem&gt;
</pre>
<p>
This variable is generated at the beginning of compilation of each module and all macros access the same variable.</p>
<p>
Here is an example:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
   macro _test0( name:str, val:int ) {
      {
         __var[ name ] = val;
      }
   }
   macro _test1() {
      {
         let val;
         if! let work = __var[ &#34;hoge&#34; ] {
            val = work@@int;
         }
         else {
            val = 10;
         }
      }
      print( &#34;%s&#34; (,,val) );
   }
   _test0( &#34;hogea&#34;, 1 );
   _test1(); // 10
   _test0( &#34;hoge&#34;, 1 );
   _test1(); // 1</code></pre>
</div>
<p>
In this example, the _test0 () macro holds int data in <code class="verbatim">__var[ &#34;hoge&#34; ]</code>, and the _test1 () macro modifies the processing according to the stored value of <code class="verbatim">__var[ &#34;hoge&#34; ]</code>.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-18" class="outline-2">
<h2 id="headline-18">
summary
</h2>
<div id="outline-text-headline-18" class="outline-text-2">
<p>
LuneScript allows you to define macros as if you were a function.</p>
<p>
Also, by using macros, you can define various processes.</p>
<p>
Next time, I&#39;ll show you how to build a project that you develop using LuneScript.</p>
</div>
</div>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev-2" href="https://ifritjp.github.io/documents/en/lunescript/make/" title="23. Build"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 23. Build</a>
<a class="nav nav-next-2" href="https://ifritjp.github.io/documents/en/lunescript/cast/" title="25. Cast edition">Next - 25. Cast edition <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://ifritjp.github.io/documents">Home</a></li>

<li class="parent has-sub-menu"><a href="https://ifritjp.github.io/documents/en/lunescript/">Making Lua easier with the transcompiler LuneScript !!<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial2.setup/">01. Introduction</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial3.hello/">02. Hello world</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/crosscompile/">03. Cross-compiling between Lua versions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/value/">04. Value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/set/">04.2. Set</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/enum/">05. enum edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/match/">06. match edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/variable/">07. Variables</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/branch/">08. General branch syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/loop/">09. Repeated syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/func/">10. Functions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/multipleretval/">10.2. Multi-valued return value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/defaultarg/">10.3. Omission of arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/arg/">10.4. Variadic argument, return value</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/closure/">10.5. Closure</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilable/">11. nilable edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class1/">12. Class Basics</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class2accessor/">13. accessor edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classinherit/">14. Class inheritance</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classadvertise/">15. Class advertise</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classoverride/">16. Class override</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/interface/">17. Interface</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classmapping/">18. mapping</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/generics/">19. generics edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilcond/">20. nil conditional operator edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/import/">21. import / provide</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/require/">22. require / module edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/glue/">22.1. Semi-automatic generation of glue code</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua/">22.2. Cooperation with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/make/">23. Build</a></li>
<li class="active"><a href="https://ifritjp.github.io/documents/en/lunescript/macro/">24. Macro edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/cast/">25. Cast edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/subfile/">26. subfile edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lazyloading/">27. Delayed loading</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/shebang_main/">28. shebang and command line arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/dir/">29. Recommended directory structure for projects that use LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go/">80. Transcompile to Go language</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_package/">80.2 Package when transcompiling to Go language</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua_runtime/">80.3 Lua runtime when transcompiled to Go</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async/">81. Safe asynchronous processing</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async_old/">81.1 Asynchronous processing O (past information)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/luago/">82. Collaboration with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/completion/">A. Let&#39;s have more fun in an exciting development environment</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/onweb/">A. LuneScript running on a web browser</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lnstags/">A. Tag jump by lnstags (source code tag system)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/recommend/">A. Transcompiler development recommendations</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/reason/">A. Why Lua&#39;s transcompiler LuneScript was developed</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/box/">Box edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_study/">Transcompile to Z. Go language (under consideration)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/test/">X. Importance of self-hosting and test design in quality control of language development</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
