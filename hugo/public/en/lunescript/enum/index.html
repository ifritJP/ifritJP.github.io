<!DOCTYPE html>
<html lang="ja-jp">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>05. enum - tech</title>
<meta name="generator" content="Hugo 0.109.0">
<link href="https://ifritjp.github.io/documentsindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://ifritjp.github.io/documents/en/lunescript/enum/">
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/custom.css">
<script src="https://ifritjp.github.io/documents/js/bundle.js"></script>
<script src="https://ifritjp.github.io/documents/js/lnsSrcRun.js"></script>
<script src="https://ifritjp.github.io/documents/js/highlight_lns.js"></script>
<link rel="stylesheet" href="https://ifritjp.github.io/documents/css/highlight_lns.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script><style>
:root {}
</style>
<meta property="og:title" content="05. enum" />
<meta property="og:description" content="In this article, we will discuss enum values in LuneScript.
enum LuneScript enum allows you to name and manage a set of values.
The types of values that can be handled as an enum are as follows.
int real str The range of one enum can be defined from multiple values, but the value types must be the same.
In other words, an enum with int values cannot define real or str values." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ifritjp.github.io/documents/en/lunescript/enum/" /><meta property="article:section" content="LuneScript" />

<meta property="og:site_name" content="tech" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="05. enum"/>
<meta name="twitter:description" content="In this article, we will discuss enum values in LuneScript.
enum LuneScript enum allows you to name and manage a set of values.
The types of values that can be handled as an enum are as follows.
int real str The range of one enum can be defined from multiple values, but the value types must be the same.
In other words, an enum with int values cannot define real or str values."/>
<meta itemprop="name" content="05. enum">
<meta itemprop="description" content="In this article, we will discuss enum values in LuneScript.
enum LuneScript enum allows you to name and manage a set of values.
The types of values that can be handled as an enum are as follows.
int real str The range of one enum can be defined from multiple values, but the value types must be the same.
In other words, an enum with int values cannot define real or str values.">

<meta itemprop="wordCount" content="1045">
<meta itemprop="keywords" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4708B8S6ES"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4708B8S6ES');
</script>
</head>
<body><div class="container"><header>
<h1>tech</h1>


[<a href="https://ifritjp.github.io/documents/en/">English</a>]

[<a href="https://ifritjp.github.io/documents/">Japanese</a>]

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="/documents/">Home</a></li>
<li><a href="https://ifritjp.github.io/blog2/public/">blog</a></li>
<li><a href="https://ifritjp.github.io/LuneScript-webFront/lnsc_web_frontend/for_fengari/">LuneScript on Web</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>05. enum</h1>

<p>
In this article, we will discuss enum values in LuneScript.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
enum
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
LuneScript enum allows you to name and manage a set of values.</p>
<p>
The types of values that can be handled as an enum are as follows.</p>
<ul>
<li>int</li>
<li>real</li>
<li>str  </li>
</ul>
<p>The range of one enum can be defined from multiple values, but the value types must be the same.</p>
<p>
In other words, an enum with int values cannot define real or str values.</p>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Definition method
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
An enum is defined like this:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
print( TestEnum.val0, TestEnum.val1, TestEnum.val2 );  // 0, 1, 2</code></pre>
</div>
<p>
In this example, we define val0, val1, val2 to be 0, 1, 2 respectively.</p>
<p>
If you want to specify the values of the enum , define it like this:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0 = 10,
  val1,
  val2 = 20,
}
print( TestEnum.val0, TestEnum.val1, TestEnum.val2 ); // 10, 11, 20</code></pre>
</div>
<p>
If you omit enum values, assign values according to:</p>
<ul>
<li>Assign a value that is 1 added to the previous enum value.</li>
<li>First enum value is 0</li>
</ul>
<p>Note that when assigning a string to an enum value, the value cannot be omitted.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0 = &#34;abc&#34;,
  val1 = &#34;def&#34;,
  val2 = &#34;ghi&#34;,
}
print( TestEnum.val0, TestEnum.val1, TestEnum.val2 ); // abc def ghi</code></pre>
</div>
<p>
An expression can be specified for the value to be set to the enum value. However, the expression must use only immediate values.</p>
<p>
For example if:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: error
fn func(): int {
  return 100;
}
enum TestEnum {
  val0,
  val1 = val0 + 10,  // 10
  val2 = func(),     // error
}</code></pre>
</div>
<p>
<code>val = val0 + 10</code> can be specified because it uses an immediate value, but <code>val2 = func()</code> is an error because it is not an immediate value.</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
how to use
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
The defined enum can be used as a type as follows.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
fn func( val:TestEnum ): int {
   return val + 100;
}
print( func( TestEnum.val1 ) ); // 101</code></pre>
</div>
<p>
Here the argument val of <code class="verbatim">func()</code> is of TestEnum type. As a result, the argument val of <code class="verbatim">func()</code> can be an int with a limited range instead of a simple int.</p>
<p>
If you specify an enum value, then <code>enum type symbol.enum value symbol</code> like <code>TestEnum.val</code>.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
omission
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>
Basically, to specify an enum value, it is <code>enum type symbol.enum value symbol</code>, but if you know that the type of the assignment destination is an enum type, you can omit <code>enum symbol</code>.</p>
<p>
For example, in the following case, we know that the argument of <code class="verbatim">func()</code> is of type TestEnum , so we can specify it as .val1 instead of TestEnum.val1 .</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
fn func( val:TestEnum ): int {
   return val + 100;
}
print( func( .val1 ) ); // 101</code></pre>
</div>
<p>
Note that if you omit the enum type defined in an external module, you must import that external module.</p>
<p>
We&#39;ll talk about imports later.</p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Converting enum values
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>
Enum values can be used as defined values as well as enum values.</p>
<p>
You can see this in the val + 100 example above, where val is the enum value we defined in TestEnum, but it can also be 0, 1, or 2. (In the example above, we are passing val1, so it will be 1). So <code>val + 100</code> is 1 + 100, resulting in 101.</p>
<p>
On the other hand look at the following example.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: error
enum TestEnum {
  val0,
  val1,
  val2,
}
fn func( val:TestEnum ): int {
   return val + 100;
}
let val = 1;
func( val ); // error</code></pre>
</div>
<p>
<code>func( val )</code> in this example results in an error.</p>
<p>
In this case, val is 1, and val1 is 1 in TestEnum, but the type of val is int, which is different from TestEnum, so an error occurs.</p>
<p>
To convert the value of the type assigned to the enum value to the corresponding enum value, use the <code class="verbatim">_from()</code> function as follows.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
fn func( val:TestEnum ): int {
   return val + 100;
}
let val = 1;
func( unwrap TestEnum._from( val ) );</code></pre>
</div>
<p>
Here <code>func( unwrap TestEnum._from( val ) )</code> gets the enum value TestEnum.val1 of TestEnum corresponding to val by <code class="verbatim">TestEnum._from()</code> and passes it to <code class="verbatim">func()</code>.</p>
<p>
I&#39;ll explain unwrap later.</p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
enum value name
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>
enum values assign values to symbols.</p>
<p>
An enum value can get this symbol name dynamically by $_txt.</p>
<p>
For example, TestEnum.val1 is output in the following case.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
fn func( val:TestEnum ) {
   print( val.$_txt ); 
}
func( .val1 ); // TestEnum.val1</code></pre>
</div>
<p>
By <code class="verbatim">$_txt</code> we get the symbolic name of the enum value.</p>
<p>
$ is syntactic sugar for function calls, as we&#39;ll see later.</p>
<div id="outline-container-headline-7" class="outline-4">
<h4 id="headline-7">
Notes on $_txt
</h4>
<div id="outline-text-headline-7" class="outline-text-4">
<p>
<code class="verbatim">$_txt</code> has the following caveats:</p>
<p>
<strong>&#34;Undefined which enum value&#39;s symbolic name is returned by $_txt when there are multiple equivalent enum values&#34;</strong></p>
<p>
For example, in the following case, it is undefined whether <code class="verbatim">print()</code> outputs <code class="verbatim">TestEnum.val1</code> or <code class="verbatim">TestEnum.val2</code>.</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1 = 10,
  val2 = 10,
}
fn func( val:TestEnum ) {
   print( val.$_txt ); 
}
func( .val1 ); // TestEnum.???</code></pre>
</div>
<p>
Also, the string format obtained by $_txt may change in the future. Please limit the use of =$_txt= to log output purposes, and do not write code that switches processing depending on the result of <code class="verbatim">$_txt</code>.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
full enum value list
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<p>
You can get a list of all enums defined by an enum with $_allList.</p>
<p>
For example, for the following code:</p>
<div class="src src-lns">
<pre tabindex="0"><code class="language-lns" data-lang="lns">// @lnsFront: ok
enum TestEnum {
  val0,
  val1,
  val2,
}
foreach val in TestEnum.$_allList {
   print( val.$_txt );
}</code></pre>
</div>
<p>
will output:</p>
<div class="src src-txt">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">TestEnum.val0
</span></span><span class="line"><span class="cl">TestEnum.val1
</span></span><span class="line"><span class="cl">TestEnum.val2</span></span></code></pre></div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-9" class="outline-2">
<h2 id="headline-9">
algebraic data types
</h2>
<div id="outline-text-headline-9" class="outline-text-2">
<p>
For enum types, you can group only one type of int, real, or str to limit the range of values, but you cannot group multiple types. Algebraic data types are a more general version of enum types and can group all types, not just int, real and str.</p>
<p>
Details are explained in the next article.</p>
<p>
<a href="../match">../match</a></p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-2">
<h2 id="headline-10">
summary
</h2>
<div id="outline-text-headline-10" class="outline-text-2">
<p>
By using an enum, you can easily define the range of values, and it provides a modern way to handle enums easily.</p>
<p>
Next time, we&#39;ll talk about variables.</p>
</div>
</div>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev-2" href="https://ifritjp.github.io/documents/en/lunescript/tuple/" title="04.3 Tuples"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 04.3 Tuples</a>
<a class="nav nav-next-2" href="https://ifritjp.github.io/documents/en/lunescript/match/" title="06. match">Next - 06. match <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://ifritjp.github.io/documents">Home</a></li>

<li class="parent has-sub-menu"><a href="https://ifritjp.github.io/documents/en/lunescript/">Easier Lua development with the transcompiler LuneScript!!<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial2.setup/">01. Introduction</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tutorial3.hello/">02. Hello world</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/crosscompile/">03. Cross-compiling between Lua versions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/value/">04. Values</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/set/">04.2. Set</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/tuple/">04.3 Tuples</a></li>
<li class="active"><a href="https://ifritjp.github.io/documents/en/lunescript/enum/">05. enum</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/match/">06. match</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/variable/">07. Variables</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/branch/">08. General branch syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/loop/">09. Repetition Syntax</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/func/">10. Functions</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/multipleretval/">10.2. Multi-value return values</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/defaultarg/">10.3. Omitting Arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/arg/">10.4. Variadic Arguments and Return Values</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/closure/">10.5. Closures</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/error/">10.6. Error handling</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilable/">11. nilable</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class1/">12. Class basics</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/class2accessor/">13. accessor</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classinherit/">14. Class Inheritance</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classadvertise/">15. Class advertise</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classoverride/">16. Class override</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/interface/">17. Interface</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/classmapping/">18. mapping</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/generics/">19. generics</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/nilcond/">20. nil conditional operator</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/import/">21. import/provide</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/require/">22. require/module</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/glue/">22.1. Semi-automatic generation of glue code</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua/">22.2. Linking with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/make/">23. Build</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/macro/">24. Macro</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/cast/">25. Cast</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/subfile/">26. subfile</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lazyloading/">27. Lazy Loading</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/shebang_main/">28. shebang and command line arguments</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/dir/">29. Recommended directory structure for projects using LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go/">80. Transcompiling to Go Language</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_package/">80.2 Packages when transpiling to Go</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_wasm/">80.4 WebAssembly support for LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async/">81. Safe Asynchronous Processing</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/async_old/">81.1 Asynchronous processing (past information)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/luago/">82. Linking with Lua</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/ebnf/">A. BNF</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/onweb/">A. LuneScript running on a web browser</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/reason/">A. Reason for developing Lua transcompiler LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/recommend/">A. Recommendations for transcompiler development</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lnstags/">A. Tag jumping with lnstags (source code tagging system)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/completion/">A.Let&#39;s have more fun in a modern development environment</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/box/">Box edition</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/lua_runtime/">Lua runtime when transpiling to 80.3 Go</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/test/">X. The Importance of Self-Hosting and Test Design in Language Development Quality Control</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/design/">Y.1 How to develop LuneScript</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/design-2/">Y.2 Development of LuneScript (type information management)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/design-3/">Y.3 LuneScript Development (Scopes and Symbols)</a></li>
<li class=""><a href="https://ifritjp.github.io/documents/en/lunescript/go_study/">Z. Transcompile to Go language (exploratory stage)</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
