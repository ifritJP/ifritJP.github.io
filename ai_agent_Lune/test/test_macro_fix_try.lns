
macro _measure( target:__exp ) {
   {
      let prev = os.clock();
      // Wrap in if to allow statement expansion?
      if true {
         ,,target;
      }
      print( "Time:", os.clock() - prev );
   }
}

macro _assert( val:__exp, expected:__exp ) {
   // Use parens?
   if (,,val) != (,,expected) {
       print("Failed");
       os.exit(1);
   }
}

fn getVal(): int {
    return 10;
}

_measure( getVal() );

let val = getVal();
_assert( val, 10 );
