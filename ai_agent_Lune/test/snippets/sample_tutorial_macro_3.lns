// From tutorial_macro.html Snippet 3

// @lnsFront: ok
macro _measure( target:__exp ) {
    // ブロックを作ることで、変数 prev が外部に漏れないようにする
    {
        let prev = os.clock();
        // 処理を実行
        ,,target;
        print( "Time:", os.clock() - prev, "sec", "(", ,,,,target, ")" );
    }
}

fn heavyWork() {
    let mut sum = 0;
    for i = 1, 1000000 {
        sum = sum + i;
    }
}

_measure( heavyWork() );

